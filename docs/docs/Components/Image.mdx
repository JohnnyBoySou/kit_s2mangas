---
sidebar_position: 9
---

# Image

O componente Image fornece uma maneira fácil de exibir imagens em aplicativos React Native, com suporte para personalização, fallback, e otimizações de carregamento usando o Expo Image.

## Importação

```tsx
import { Image } from '@s2mangas/native';
```

## Propriedades

| Propriedade | Tipo | Padrão | Descrição |
| ----------- | ---- | ------ | --------- |
| `src` | `string \| number` | - | URL da imagem ou referência local (via require) |
| `w` | `number \| string` | `0` | Largura da imagem |
| `h` | `number \| string` | `0` | Altura da imagem |
| `r` | `number \| string` | `0` | Raio da borda da imagem |
| `bg` | `string` | - | Cor de fundo da imagem |
| `align` | `'flex-start' \| 'flex-end' \| 'center' \| 'stretch' \| 'baseline'` | `'center'` | Alinhamento da imagem dentro do contêiner |
| `style` | `StyleProp<ImageStyle>` | - | Estilos personalizados para a imagem |
| `fallback` | `React.ReactNode` | - | Conteúdo a ser exibido quando a imagem não puder ser carregada |
| `contentFit` | `'cover' \| 'contain' \| 'fill' \| 'none' \| 'scale-down'` | `'cover'` | Como a imagem deve se ajustar dentro do contêiner |
| `onPress` | `() => void` | - | Função chamada quando a imagem é pressionada |
| `onLoad` | `() => void` | - | Função chamada quando a imagem é carregada com sucesso |
| `onError` | `() => void` | - | Função chamada quando ocorre um erro no carregamento da imagem |
| `testID` | `string` | - | ID para testes automatizados |
| `accessibilityLabel` | `string` | - | Rótulo de acessibilidade para leitores de tela |
| `accessibilityHint` | `string` | - | Dica de acessibilidade para leitores de tela |
| `accessibilityRole` | `'button' \| 'image' \| 'none' \| 'adjustable' \| 'header' \| 'search' \| 'imagebutton'` | - | Papel de acessibilidade do componente |
| `cachePolicy` | `'memory' \| 'disk' \| 'memory-disk' \| 'none'` | `'memory-disk'` | Política de cache para a imagem |
| `priority` | `'low' \| 'normal' \| 'high'` | `'normal'` | Prioridade de carregamento da imagem |
| `source` | `ImageSourcePropType` | - | Fonte da imagem no formato nativo do React Native |

## Exemplos

### Imagem Básica

```tsx
import React from 'react';
import { Image } from '@s2mangas/native';

function ExemploImagemBasica() {
  return (
    <Image 
      src="https://example.com/image.jpg" 
      w={200} 
      h={150} 
    />
  );
}
```

### Imagem com Fallback

```tsx
import React from 'react';
import { Text } from 'react-native';
import { Image } from '@s2mangas/native';

function ExemploImagemComFallback() {
  return (
    <Image 
      src="https://example.com/imagem-que-pode-falhar.jpg" 
      w={200} 
      h={150} 
      r={8}
      fallback={<Text>Imagem não disponível</Text>}
    />
  );
}
```

### Imagem Local

```tsx
import React from 'react';
import { Image } from '@s2mangas/native';

function ExemploImagemLocal() {
  return (
    <Image 
      src={require('../assets/logo.png')} 
      w={100} 
      h={100} 
      contentFit="contain"
    />
  );
}
```

### Imagem Clicável

```tsx
import React from 'react';
import { Alert } from 'react-native';
import { Image } from '@s2mangas/native';

function ExemploImagemClicavel() {
  const handlePress = () => {
    Alert.alert('Imagem pressionada!');
  };
  
  return (
    <Image 
      src="https://example.com/imagem-clicavel.jpg" 
      w={200} 
      h={150} 
      onPress={handlePress}
      accessibilityLabel="Imagem clicável"
      accessibilityHint="Pressione para ver mais detalhes"
      accessibilityRole="imagebutton"
    />
  );
}
```

### Imagem com Diferentes Ajustes de Conteúdo

```tsx
import React from 'react';
import { View } from 'react-native';
import { Image } from '@s2mangas/native';

function ExemploAjustesDeConteudo() {
  return (
    <View style={{ flexDirection: 'row', flexWrap: 'wrap', gap: 16 }}>
      <Image 
        src="https://example.com/imagem.jpg" 
        w={150} 
        h={150} 
        contentFit="cover"
      />
      <Image 
        src="https://example.com/imagem.jpg" 
        w={150} 
        h={150} 
        contentFit="contain"
      />
      <Image 
        src="https://example.com/imagem.jpg" 
        w={150} 
        h={150} 
        contentFit="fill"
      />
      <Image 
        src="https://example.com/imagem.jpg" 
        w={150} 
        h={150} 
        contentFit="scale-down"
      />
    </View>
  );
}
```

## Comportamento

O componente Image possui as seguintes características de comportamento:

1. Utiliza o componente ExpoImage da biblioteca expo-image para melhor desempenho
2. Suporta tanto URLs remotas quanto imagens locais (via require)
3. Quando `fallback` é fornecido, exibe esse conteúdo quando a imagem não pode ser carregada
4. Quando `onPress` é fornecido, a imagem se torna clicável e é envolvida em um componente Pressable
5. Gerencia automaticamente a fonte da imagem com base nas propriedades `src` ou `source`
6. Aplica automaticamente estilos como borderRadius, width, height e backgroundColor

## Acessibilidade

O componente Image implementa as seguintes características de acessibilidade:

- Suporta `accessibilityLabel` para fornecer descrição para leitores de tela
- Suporta `accessibilityHint` para fornecer instruções adicionais para leitores de tela
- Suporta `accessibilityRole` para definir o papel do componente para leitores de tela
- Quando clicável, o papel de acessibilidade pode ser definido como "imagebutton"

## Otimização

O componente Image oferece opções de otimização através das propriedades:

- `cachePolicy`: Controla como a imagem é armazenada em cache
  - `memory`: Armazena apenas na memória (volátil)
  - `disk`: Armazena apenas no disco (persistente)
  - `memory-disk`: Armazena tanto na memória quanto no disco (padrão)
  - `none`: Não armazena em cache

- `priority`: Define a prioridade de carregamento da imagem
  - `low`: Baixa prioridade
  - `normal`: Prioridade normal (padrão)
  - `high`: Alta prioridade

## Personalização

O Image pode ser personalizado através das propriedades de estilo:

```tsx
<Image
  src="https://example.com/imagem.jpg"
  w={300}
  h={200}
  r={16}
  bg="#f0f0f0"
  style={{ 
    borderWidth: 2,
    borderColor: '#ddd',
    shadowOpacity: 0.3,
    shadowRadius: 5,
    elevation: 3
  }}
/>
```